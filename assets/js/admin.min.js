jQuery(document).ready(function(e){jQuery(".feed-select").select2(),jQuery(".notice.is-dismissible").on("click",".notice-dismiss",function(r){r.preventDefault();var i=jQuery(this);i.parent().data("key")&&e.post(wp_listings_adminL10n.ajaxurl,{action:"wp_listings_admin_notice",url:wp_listings_adminL10n.ajaxurl,nag:i.parent().data("key"),nonce:wp_listings_adminL10n.nonce||""})}),jQuery(".notice.is-dismissible").each(function(){if(!wp_listings_adminL10n.wp_version){var e=jQuery(this),r=jQuery('<button type="button" class="notice-dismiss"><span class="screen-reader-text"></span></button>'),i=wp_listings_adminL10n.dismiss||"";r.find(".screen-reader-text").text(i),e.append(r),r.on("click.wp-dismiss-notice",function(r){r.preventDefault(),e.fadeTo(100,0,function(){jQuery(this).slideUp(100,function(){jQuery(this).remove()})})})}}),jQuery(".wpl-term-image-url").attr("src")?jQuery(".wpl-term-image-url").show():jQuery(".wpl-term-image-url").hide(),jQuery("input#wpl-term-image").val()?(jQuery(".wpl-add-media-text").hide(),jQuery(".wpl-remove-media, .wpl-term-image-url").show()):(jQuery(".wpl-add-media-text").show(),jQuery(".wpl-remove-media, .wpl-term-image-url").hide()),jQuery(".wpl-remove-media").click(function(e){e.preventDefault(),jQuery("#wpl-term-image").val(""),jQuery(".wpl-add-media-text").show(),jQuery(".wpl-remove-media, .wpl-term-image-url, .wpl-errors").hide()});var r;jQuery(".wpl-add-media").click(function(e){if(e.preventDefault(),r)return void r.open();r=wp.media.frames.wplpro_term_image_frame=wp.media({className:"media-frame",frame:"select",multiple:!1,title:wplpro_term_image.title,library:{type:"image"},button:{text:wplpro_term_image.button}}),r.on("select",function(){var e=r.state().get("selection").toJSON();if(e[0].sizes.wplpro_term_image)var i=e[0].sizes.wplpro_term_image.url,m=e[0].sizes.wplpro_term_image.width,t=e[0].sizes.wplpro_term_image.height;else var i=e[0].sizes.full.url,m=e[0].sizes.full.width,t=e[0].sizes.full.height;var p="";wplpro_term_image.min_width>e[0].sizes.full.width&&wplpro_term_image.min_height>t?p=wplpro_term_image.min_width_height_error:wplpro_term_image.max_width<m&&wplpro_term_image.max_height<t?p=wplpro_term_image.max_width_height_error:wplpro_term_image.min_width>e[0].sizes.full.width?p=wplpro_term_image.min_width_error:wplpro_term_image.min_height>t?p=wplpro_term_image.min_height_error:wplpro_term_image.max_width<m?p=wplpro_term_image.max_width_error:wplpro_term_image.max_height<t&&(p=wplpro_term_image.max_height_error),p?(jQuery(".wpl-errors p").text(p),jQuery(".wpl-errors").show()):jQuery(".wpl-errors").hide(),jQuery("#wpl-term-image").val(e[0].id),jQuery(".wpl-term-image-url").attr("src",i),jQuery(".wpl-add-media-text").hide(),jQuery(".wpl-term-image-url, .wpl-remove-media").show()}),r.open()}),jQuery(".wplpro-term-image-url").attr("src")?jQuery(".wplpro-term-image-url").show():jQuery(".wplpro-term-image-url").hide(),jQuery("input#wplpro-term-image").val()?(jQuery(".wplpro-add-media-text").hide(),jQuery(".wplpro-remove-media, .wplpro-term-image-url").show()):(jQuery(".wplpro-add-media-text").show(),jQuery(".wplpro-remove-media, .wplpro-term-image-url").hide()),jQuery(".wplpro-remove-media").click(function(e){e.preventDefault(),jQuery("#wplpro-term-image").val(""),jQuery(".wplpro-add-media-text").show(),jQuery(".wplpro-remove-media, .wplpro-term-image-url, .wplpro-errors").hide()});var i;jQuery(".wplpro-add-media").click(function(e){if(e.preventDefault(),i)return void i.open();i=wp.media.frames.wpmlpro_term_image_frame=wp.media({className:"media-frame",frame:"select",multiple:!1,title:wpmlpro_term_image.title,library:{type:"image"},button:{text:wpmlpro_term_image.button}}),i.on("select",function(){var e=i.state().get("selection").toJSON();if(e[0].sizes.wpmlpro_term_image)var r=e[0].sizes.wpmlpro_term_image.url,m=e[0].sizes.wpmlpro_term_image.width,t=e[0].sizes.wpmlpro_term_image.height;else var r=e[0].sizes.full.url,m=e[0].sizes.full.width,t=e[0].sizes.full.height;var p="";wpmlpro_term_image.min_width>e[0].sizes.full.width&&wpmlpro_term_image.min_height>t?p=wpmlpro_term_image.min_width_height_error:wpmlpro_term_image.max_width<m&&wpmlpro_term_image.max_height<t?p=wpmlpro_term_image.max_width_height_error:wpmlpro_term_image.min_width>e[0].sizes.full.width?p=wpmlpro_term_image.min_width_error:wpmlpro_term_image.min_height>t?p=wpmlpro_term_image.min_height_error:wpmlpro_term_image.max_width<m?p=wpmlpro_term_image.max_width_error:wpmlpro_term_image.max_height<t&&(p=wpmlpro_term_image.max_height_error),p?(jQuery(".wplpro-errors p").text(p),jQuery(".wplpro-errors").show()):jQuery(".wplpro-errors").hide(),jQuery("#wplpro-term-image").val(e[0].id),jQuery(".wplpro-term-image-url").attr("src",r),jQuery(".wplpro-add-media-text").hide(),jQuery(".wplpro-term-image-url, .wplpro-remove-media").show()}),i.open()})});